(window.webpackJsonp=window.webpackJsonp||[]).push([[16,6,7,8,12],{287:function(t,e,r){"use strict";r.r(e);var n={name:"ErrorModal",props:{message:{type:String,default:""}}},o=r(47),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex p-4 mb-4 bg-red-100 border-t-4 border-red-500 dark:bg-red-200 mt-2",attrs:{id:"alert-border-2"}},[r("svg",{staticClass:"flex-shrink-0 w-5 h-5 text-red-700",attrs:{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"}})]),t._v(" "),r("div",{staticClass:"ml-3 text-sm font-medium text-red-700"},[t._v("\n    "+t._s(t.message)+"\n  ")])])}),[],!1,null,null,null);e.default=component.exports},290:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(29),{methods:{SignOut:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$fire.auth.signOut();case 2:"/"===t.$route.path?location.reload():t.$router.push("/");case 3:case"end":return e.stop()}}),e)})))()}}}),l=r(47),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none",attrs:{type:"button"},on:{click:t.SignOut}},[t._v("\n  Logout\n")])}),[],!1,null,null,null);e.default=component.exports},293:function(t,e,r){"use strict";r.r(e);var n={name:"SuccessAlert"},o=r(47),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-4 mb-4 text-sm text-green-700 bg-green-100 rounded-lg dark:bg-green-200 dark:text-green-800",attrs:{role:"alert"}},[r("span",{staticClass:"font-medium"},[t._v("Success alert!")]),t._v(" Try refreshing your page :)\n")])}],!1,null,null,null);e.default=component.exports},294:function(t,e,r){"use strict";var n=r(291);r.d(e,"a",(function(){return n.y})),r.d(e,"b",(function(){return n.E})),r.d(e,"c",(function(){return n.M})),r.d(e,"d",(function(){return n.P})),r.d(e,"e",(function(){return n.fb})),r.d(e,"f",(function(){return n.kb}))},300:function(t,e,r){"use strict";r.r(e);var n={name:"CreateBlog",props:["current"],data:function(t){return{title:t.current.blog.title,content:t.current.blog.content}},methods:{emitBlogData:function(){this.$emit("getNewBlogData",{title:this.title,content:this.content})}}},o=r(47),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"overflow-y-auto overflow-x-hidden bg-gray-400/50 fixed top-0 right-0 left-0 z-50 md:inset-0 w-screen h-screen flex items-center justify-center"},[r("div",{staticClass:"relative p-4 w-full max-w-2xl h-full md:h-auto"},[r("div",{staticClass:"relative bg-white rounded-lg shadow"},[r("div",{staticClass:"flex justify-between items-start p-4 rounded-t border-b"},[r("h3",{staticClass:"text-xl font-semibold text-gray-900"},[t._v("Edit your blog")]),t._v(" "),r("button",{staticClass:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[r("svg",{staticClass:"w-5 h-5",attrs:{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})])])]),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.emitBlogData.apply(null,arguments)}}},[r("div",{staticClass:"p-6 space-y-6"},[r("div",{staticClass:"mb-6"},[r("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900",attrs:{for:"title"}},[t._v("Title")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),r("div",[r("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900",attrs:{for:"content"}},[t._v("Content")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500",attrs:{rows:"4",placeholder:"Enter content..."},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])]),t._v(" "),t._m(0)])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex items-center p-6 space-x-2 rounded-b border-t border-gray-200"},[r("button",{staticClass:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",attrs:{type:"submit"}},[t._v("\n            Edit\n          ")])])}],!1,null,null,null);e.default=component.exports},317:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(29),r(77),r(78),r(294)),l=r(300),c=r(287),d=r(293),f={components:{EditBlog:l.default,ErrorMessage:c.default,SuccessAlert:d.default},data:function(){return{openModal:"",title:"",id:"",post:{},loading:!0,isError:"",userName:"",isLoggedIn:"",success:""}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t.$fire.auth.currentUser)&&(t.isLoggedIn=!0,t.userName=r.displayName),n=[],e.prev=3,l=Object(o.b)(t.$fire.firestore,"blogs",t.$route.params.post),e.next=7,Object(o.c)(l);case 7:(c=e.sent).exists()?(t.post={blog:c.data(),id:c.id},r&&(t.isLoggedIn=r.displayName===c.data().author)):redirect("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.isError=e.t0;case 14:t.loading=!1,t.posts=[].concat(n);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})))()},methods:{editBlog:function(data){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(o.b)(t.$fire.firestore,"blogs",t.post.id),e.prev=1,e.next=4,Object(o.f)(r,{title:data.title,content:data.content});case 4:t.success=!0,setTimeout((function(){t.success=!1}),5e3),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.isError=e.t0+".Please refresh the page";case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},showModal:function(){this.openModal=!0},closeModal:function(){this.openModal=!1}}},m=r(47),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("client-only",[r("div",{staticClass:"w-screen min-h-screen flex flex-col items-center bg-slate-100"},[t.success?r("div",{staticClass:"fixed top-5 z-100"},[r("SuccessAlert")],1):t._e(),t._v(" "),r("nav",{staticClass:"bg-white border-gray-200 px-2 sm:px-4 py-2.5 rounded w-screen mb-5"},[r("div",{staticClass:"container flex flex-wrap justify-between items-center mx-auto"},[r("div",{staticClass:"justify-between items-center flex w-auto"},[r("ul",{staticClass:"flex mt-4 flex-row space-x-8 mt-0 text-sm font-medium"},[r("NuxtLink",{attrs:{to:"/"}},[r("li",{staticClass:"block rounded bg-transparent text-blue-700 p-0"},[t._v("\n                Home\n              ")])]),t._v(" "),r("NuxtLink",{attrs:{to:"/protected"}},[t.isLoggedIn?r("li",{staticClass:"block rounded bg-transparent text-blue-700 p-0"},[t._v("\n                Dashboard\n              ")]):t._e()])],1)]),t._v(" "),t.isLoggedIn?t._e():r("div",[r("NuxtLink",{attrs:{to:"/loginPage"}},[r("button",{staticClass:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none",attrs:{type:"button"}},[t._v("\n              Login\n            ")])]),t._v(" "),r("NuxtLink",{attrs:{to:"/registerPage"}},[r("button",{staticClass:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none",attrs:{type:"button"}},[t._v("\n              Register\n            ")])])],1),t._v(" "),t.isLoggedIn?r("div",{staticClass:"flex flex-row items-center justify-center"},[r("p",{staticClass:"font-medium mr-2"},[t._v("Logged in as: "+t._s(t.userName))]),t._v(" "),r("LogoutBtn")],1):t._e()])]),t._v(" "),r("div",{staticClass:"w-full py-5 px-8 lg:w-1/2 md:w-8/12 sm:w-9/12 bg-white rounded-lg flex flex-col shadow-lg"},[t.isLoggedIn?r("div",[t.openModal?r("EditBlog",{attrs:{current:t.post},on:{close:t.closeModal,getNewBlogData:t.editBlog}}):t._e(),t._v(" "),r("button",{staticClass:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2",attrs:{type:"button"},on:{click:t.showModal}},[t._v("\n          Edit blog\n        ")])],1):t._e(),t._v(" "),t.isError?r("div",[r("ErrorMessage",{attrs:{message:t.isError}})],1):t._e(),t._v(" "),t.loading||t.isError?t._e():r("div",[r("div",{staticClass:"mb-5"},[r("h1",{staticClass:"font-bold text-3xl"},[t._v(t._s(t.post.blog.title))]),t._v(" "),r("h1",[t._v("Author: "+t._s(t.post.blog.author))]),t._v(" "),r("h1",[t._v("Date: "+t._s(t.post.blog.date))])]),t._v(" "),r("p",[t._v(t._s(t.post.blog.content))])])])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SuccessAlert:r(293).default,LogoutBtn:r(290).default,EditBlog:r(300).default,ErrorMessage:r(287).default})}}]);